<!-- De concertenpagina, op regel 107 staat een voorbeeld om een concert te kunnen toevoegen -->

<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>The Gents</title>

        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <meta name="author" content="">
        <meta name="copyright" content="">
        <meta name="robots" content="index,follow,noarchive" />
        <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
        <link rel="manifest" href="favicon/site.webmanifest">
        <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#d13232">
        <meta name="msapplication-TileColor" content="#6bafed">
        <meta name="theme-color" content="#D13232">

        <link rel="stylesheet" href="common.css">
        <link rel="stylesheet" href="sub.css">
        <link rel="stylesheet" href="concerts.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <style>
            .message {
                max-width: 500px;
            }

            @media screen and (max-width: 800px) {
                .message {
                    padding: 20px;
                }
            }
        </style>
    </head>
    <body>
        <header>
            <div class="logo">
                <h1>The <span style="color: #D13232">Gents</span></h1>
                <h2>Vocaal ensemble</h2>
            </div>
            <nav>
                <a href="index.html">Home</a>
                <span onmouseover="aboutMenu.show()" onmouseleave="aboutMenu.hide()">Over
                    <ul class="about-menu">
                        <li><a href="biography.html">Biografie</a></li>
                        <li><a href="conductor.html">De dirigent</a></li>
                    </ul>
                </span>
                <a href="concerts.html" selected>Concerten</a>
                <a href="music.html">Muziek</a>
                <a href="gallery.html">Galerij</a>
                <a href="friend.html" style="color: #D13232">Word vriend</a>
                <button class="menu-btn" onclick="sideMenu.show()" hidden>
                    <i class="material-icons">menu</i> <span>Menu</span>
                </button>
            </nav>

            <a href="" class="language" data-msg="Switch to the english page"><img src="img/english.png"></a>
        </header>

        <div class="side-menu" hidden>
            <i class="close material-icons" onclick="sideMenu.hide()" style="cursor: pointer">close</i>
            <h1>Menu</h1>
            <nav>
                <a href="index.html" selected>Home</a>
                <a href="biography.html">Biografie</a>
                <a href="conductor.html">Over de dirigent</a>
                <a href="concerts.html">Concerten</a>
                <a href="music.html">Muziek</a>
                <a href="gallery.html">Galerij</a>
                <a href="friend.html" style="color: #D13232">Word vriend</a>
            </nav>
        </div>            

        <script>
                // Script for showing/hiding the menu for mobile devices
                var sideMenu = document.getElementsByClassName('side-menu')[0];
                var header = document.getElementsByTagName('header')[0];
    
                onload = function() { sideMenu.hidden = false; }
    
                sideMenu.show = function() {
                    //document.body.style.position = 'fixed';
                    sideMenu.style.transform = 'translateX(0px)';
                    setTimeout(function() { header.addEventListener('click', sideMenu.hide) }, 300);
                }
    
                sideMenu.hide = function() {
                    sideMenu.style.transform = 'translateX(-250px)';
                    document.body.style.transform = 'translateX(0px)';
                    document.body.style.position = 'static';
                    header.removeEventListener('click', sideMenu.hide);
                }
            </script>
        <div class="content">
            <section>
                <h1>Concerten</h1>
                <div class="message">
                    <h4>Het nieuwste programma van The Gents: To Mary</h4>
                    <p>De Moeder Gods is altijd al een inspiratiebron geweest voor componisten uit de hele wereld. 
                    The Gents brengen een programma met liederen uit die veelkleurige traditie, waarin ook veel plaats 
                    is ingeruimd voor werken van Nederlandse bodem.
                    <br/><br/>
                    Sommige composities klinken ingetogen, andere uitbundig. Al die uitersten worden door The Gents belicht. 
                    Naast een aantal bekendere werken bevat het programma ook nieuwe muziek, die speciaal voor The Gents is
                    gecomponeerd door Nederlandse hedendaagse componisten. </p>
                    <br>
                </div>

                <div class="concertContainer" style="text-align: center">
                    <p style="font-size: 25px; color: #888; padding-bottom: 25px;">Concerten ophalen...</p>
                </div>

                <script>
                    var concerts = [[]];

                    var concertContainer = document.querySelector('.concertContainer');

                    var xhr = new XMLHttpRequest();
                    xhr.open('GET', "https://spreadsheets.google.com/feeds/cells/1iJf_yzipT49XyGZb6vxi8wQIjJYlSfXo5atZV5kQrTI/1/public/values?alt=json", true);
                    xhr.onload = function() {
                        var data = JSON.parse(xhr.responseText);
                        var entries = Array.from(data.feed.entry);
                        while(+entries[0]['gs$cell'].row < 6 && entries.length) entries.splice(0,1);
                        
                        var lastRow = +entries[0]['gs$cell'].row;
                        for(var i = 0; i < entries.length; ++i) {
                            var e = entries[i];

                            var row = +e['gs$cell'].row;
                            if(row != lastRow) {
                                concerts.push([]);
                                lastRow = row;
                            }

                            var col = +e['gs$cell'].col - 1;
                            concerts.slice(-1)[0][col] = e.content["$t"];
                        }

                        concertContainer.innerHTML = "";
                        for(var i = 0; i < concerts.length; ++i) {
                            var concert = concerts[i];

                            var date = concert[0] || "";
                            var time = concert[1] || "";
                            var location = concert[2] || "";
                            var gMapsLink = concert[3] || "";
                            var concertType = concert[4] || "";
                            var additional = concert[5] || "";
                            var ticketLink = concert[6] || "";
                            if(!ticketLink.includes("http://") && !ticketLink.includes("https://")) 
                                ticketLink = "http://" + ticketLink;
                                
                            var ticketBtnText = concert[7] || "";

                            concertContainer.innerHTML +=
                                '<div class="concert">' +
                                    '<div class="date">' + date + '<span>' + time + '</span></div>' +
                                    '<span class="location">' + location + '</span>' +
                                    '<a class="gmaps" style="font-size: 12px" href="' + gMapsLink + '">' +
                                        '<i class="material-icons">location_on</i>' + 
                                        'Bekijk in Google Maps' + 
                                    '</a>' +
                                    '<div class="description">' + 
                                        concertType + 
                                        '<br>' + 
                                        '<span style="font-size: 12px;">' + additional + '</span>' + 
                                    '</div>' + 
                                    '<a href="' + ticketLink + '" class="ticket-btn" ' + (ticketLink ? '' : 'disabled') + '>' +
                                        (ticketBtnText || 'Bestel kaarten') + '</a>' + 
                                '</div>';
                        }
                    };
                    xhr.send();
                </script>
            </section>
            <section></section>
        </div>
        <footer>
            <nav>
                <a href="index.html">Home</a>
                <span onmouseover="aboutMenu.show()" onmouseleave="aboutMenu.hide()">Over
                    <ul class="about-menu">
                        <li><a href="biography.html">Biografie</a></li>
                        <li><a href="conductor.html">De dirigent</a></li>
                    </ul>
                </span>
                <a href="concerts.html" selected>Concerten</a>
                <a href="music.html">Muziek</a>
                <a href="gallery.html">Galerij</a>
                <button class="menu-btn" onclick="sideMenu.show()" hidden>
                    <i class="material-icons">menu</i> <span>Menu</span>
                </button>
            </nav>

            <br>

            <div class="social">
                <a href=""><img src="img/social/YouTube.svg"></a>
                <a href=""><img src="img/social/Twitter.svg"></a>
                <a href=""><img src="img/social/Facebook.svg"></a>
            </div>

            <p style="color: #fff">E-mail: info@thegents.nl</p>
            <br>
            <div class="footer-content">
                <b>Dirigent</b>
                <p>Annemiek van der Ven</p>
                <b>Productie</b>
                <p>Adri Mulder</p>
                <p>+31 6 14057124</p>
                <br>
            </div>
            <div class="footer-content">
                <b>Bestuur</b>
                <p>Geert Meijering, voorzitter</p>
                <p>Kor Brouwer, secretaris</p>
                <p>Hans Donkers, penningmeester</p>
                <b>CD verkoop</b>
                <p>Hans Donkers</p>
                <p>+31 6 49422637</p>
            </div>
            <div class="footer-content">
                <b>Kamer van Koophandel</b>
                <p>KvK in Utrecht: 30153201</p>
                <p>Stichting The Gents</p>
                <b>Postadres</b>
                <p>Asserpark 25</p>
                <p>6706 HA Wageningen</p>
                <p>Nederland</p>
            </div>

            <br>

            <div class="links">
                <a href="friend.html" style="color: #D13232">Word vriend</a>
                <a href="http://ggbrw.nl/wiki/doku.php?id=start&do=login">Inloggen</a>
                <a href="anbi.html">ANBI-status</a>
            </div>
        </footer>
    </body>
</html>
